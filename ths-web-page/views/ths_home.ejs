<!DOCTYPE html>
<html>

<head>
  <title>Trans Help System(THS)</title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <style>
          body{
            background-color: #EEEEEE;
          }
        </style>
</head>

<body>
  <header>
    <div class="navbar navbar-dark bg-dark shadow-sm">
        <a href="/authed/ths_home" style="color:white;font-size: large;">
          TransrationHome 
        </a>
        <a href="/how_to" style="color:white;font-size: large;">HowToUse</a>
        <a href="/authed/user" style="color:white;font-size: large;">UserPage</a>
        <a href="/logout" style="color:white;font-size: large;">logout</a>
        <p></p>
          
          <div class="input-group">
            <form method="get" action="/authed/ths_home">
              <input type="text" name="search_word" id="word" class="form-control input-lg" placeholder="Serch word">
              <span class="input-group-btn">
                <button type="submit" class="btn btn-info">Search</button>
              </span>
          </div>
    </div>
    
  </header>
  <br>
  <div class="card-deck">
    <!------------適応言語一覧------------->
    
      <div class="card text-center" style="max-width: 12rem; height: 10rem;">
        <strong>language</strong>
        <div>English(en-US)</div>
        <div>Chinese(ch)</div>
        <div>Japanese(ja)</div>
        <div>........</div>
      </div>
  </div>

    </form>
    <!------------ポストされた投稿一覧-------------->
  <div class="d-flex flex-column bd-highlight mb-3">
    
    <div class="row justify-content-center " style='color: red;'><%=msg%></div>
    <div><%=page_count +1%>ページ目を表示中 / <%=postCount%>件
    <div style='color: red;'></div>
    <div class="bg rounded p-3" style="padding:10px;background-color:#FFFFFF">
      <% if (posts != null) { %>
        <% for(var i= 0; i < posts.length; i++){ %>
                  <div class="card" style="width: 60rem; background-color:#EEEEEE">
                    <%=posts[i].set_id%>
                  </div>
                  <div class="card-body">        
                      <table border="1">
                          <tbody>
                            <%=posts[i].sentence%>
                          <tr>
                            <td><%=posts[i].language%></td>
                          </tr>
                      </tbody>
                      <br>
                        <form action="/authed/ths_home" method="get">
                          <button type="submit"><strong>Translation list of this sentence</strong></button>
                          <input type="hidden"  name="id" value=<%-posts[i].set_id%>>
                        </form>
                      </table>
                  </div>
                  <%}%>
                <%}%>
    </div>
    <div class="d-flex">
      <% if(page_count >= 1){ %>
      <form  method="post" action="/next?page_count=<%-page_count -1%>">
        <input type="hidden" name="search_word" value=<%search_word%>>
          <button class="btn btn-secondary"><%=page_count%><<-</button>
      </form>
      <% } %>
      <div>　<%=page_count +1%>ページ目　</div>
      <% if(button == 1){%>
      <form  method="post" action="/next?page_count=<%-page_count +1%>">
        <input type="hidden" name="search_word" value=<%search_word%>>
          <button class="btn btn-secondary">->><%=page_count +2%></button>
      </form>
      <% } %>
    <div>　/全<%=postCount%>件</div>
    </div>
    <!--------------------投稿--------------------->
    <div class="p-2 bd-highlight">
          <br>
          <div><input type="hidden" name="postnumber" value=0>翻訳の登録(欲しい翻訳がなかった時に使用)</div>
          <form action="/newpost" method="post">
            <input type="hidden" name="flag" value=0>
          <div class="d-flex">
            言語
            <select name="language">
              <option value="en-US">English</option>
              <option value="ja">Japanese</option>
              <option value="ch">Chinese</option>
              </select>
          </div>
            <div>Translated text<br><textarea name="text" cols="120" rows="1" wrap="soft" required></textarea></div>
            <div>Target ID<br><input type="number" name="set_id"></div>
          <br><button type="submit" class="btn btn-info">Registration</button>
        </form>
        <br>

        <form action="/newpost" method="post">
          <input type="hidden" name="flag" value=1>
          <div class="d-flex">
            言語
            <select name="language">
              <option value="en-US">English</option>
              <option value="ja">Japanese</option>
              <option value="ch">Chinese</option>
              </select>
          </div>
            <div>
              Translated text<br><textarea name="text" cols="120" rows="1" wrap="soft" required></textarea>
            </div>
            <div>
              Explanation of this sentence<br><textarea name="explanation" cols="120" rows="3" wrap="soft" required></textarea>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="private" name="private">
              <label class="form-check-label" for="private">private</label>
            </div>
          <br><button type="submit" class="btn btn-info">Create Sentence</button>
          <input type="hidden" name="username" value=<%username%>>
        </form>
    </div>
  </div>
  <!------------ユーザープロフィール------------->
  <div class="card" style="max-width: 12rem; height: 12rem;">
    <div class="card-header">User</div>
      <div class="card-body">
        <h4 class="card-title"><%=username%></h4>
        <p class="card-text">
          userNumber : <%=user_id%>
          Group : nothing
        </p>
      </div>
      <a href="/logout">logout</a>
    </div>
  </div>
</body>
</html>